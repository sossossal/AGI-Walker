# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

æ¬¢è¿ä½¿ç”¨ Godot æœºå™¨äººæ¨¡æ‹Ÿå¥—ä»¶ï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿæµ‹è¯•å·²å®ç°çš„æ‰€æœ‰åŠŸèƒ½ã€‚

---

## ğŸ“‹ å‰ç½®è¦æ±‚

- âœ… Godot 4.2+
- âœ… Python 3.8+
- âœ… å·²å®Œæˆçš„é¡¹ç›®æ–‡ä»¶

---

## ğŸ¯ æµ‹è¯•è·¯çº¿å›¾

```
ç¬¬ä¸€æ­¥: æµ‹è¯•é›¶ä»¶åº“ï¼ˆPythonï¼‰     â† 5åˆ†é’Ÿ
    â†“
ç¬¬äºŒæ­¥: æµ‹è¯•ç¯å¢ƒç³»ç»Ÿï¼ˆGodotï¼‰    â† 10åˆ†é’Ÿ
    â†“
ç¬¬ä¸‰æ­¥: æµ‹è¯•Python APIï¼ˆå¯é€‰ï¼‰   â† 15åˆ†é’Ÿ
```

---

## ç¬¬ä¸€æ­¥: æµ‹è¯•é›¶ä»¶åº“ ğŸ“š

### 1.1 Python ç¯å¢ƒå‡†å¤‡

```powershell
# è¿›å…¥ python_api ç›®å½•
cd d:\æ–°å»ºæ–‡ä»¶å¤¹\AGI-Walker\python_api

# ç¡®ä¿å·²å®‰è£… gymnasium å’Œ numpy
pip install gymnasium numpy
```

### 1.2 è¿è¡Œé›¶ä»¶åº“æµ‹è¯•

```powershell
# ç®€å•æ¼”ç¤º
python examples\demo_parts.py

# å®Œæ•´æµ‹è¯•
python examples\test_parts.py
```

**é¢„æœŸè¾“å‡º**:
```
============================================================
æœºå™¨äººé›¶ä»¶åº“æ¼”ç¤º
============================================================

[1] åŠ è½½é›¶ä»¶æ•°æ®åº“...
    âœ… æˆåŠŸåŠ è½½ 3 ä¸ªé›¶ä»¶
    é›¶ä»¶åˆ—è¡¨: dynamixel_xl430_w250, dynamixel_mx106, bosch_bno055

[2] è·å– Dynamixel XL430-W250 è¯¦æƒ…...
    å‹å·: XL430-W250-T
    åˆ¶é€ å•†: ROBOTIS
    å µè½¬æ‰­çŸ©: 1.4 NÂ·m
    ç©ºè½½é€Ÿåº¦: 50 RPM
    ...

âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼é›¶ä»¶åº“åŠŸèƒ½æ­£å¸¸
```

### 1.3 ç”µæœºæ€§èƒ½å¯¹æ¯”

```powershell
python examples\test_parts.py
```

æ‚¨ä¼šçœ‹åˆ°ä¸åŒç”µæœºçš„æ€§èƒ½å¯¹æ¯”å’Œæ€§ä»·æ¯”åˆ†æã€‚

---

## ç¬¬äºŒæ­¥: åœ¨ Godot ä¸­æµ‹è¯•ç¯å¢ƒç³»ç»Ÿ ğŸŒ

### 2.1 æ‰“å¼€ Godot é¡¹ç›®

1. å¯åŠ¨ Godot 4.2+
2. ç‚¹å‡» "å¯¼å…¥"
3. é€‰æ‹© `d:\æ–°å»ºæ–‡ä»¶å¤¹\AGI-Walker\godot_project\project.godot`
4. ç‚¹å‡» "å¯¼å…¥å¹¶ç¼–è¾‘"

### 2.2 å¯ç”¨æ’ä»¶

1. è¿›å…¥ `é¡¹ç›®` â†’ `é¡¹ç›®è®¾ç½®` â†’ `æ’ä»¶`
2. å¯ç”¨ **"Robot Simulation Toolkit"**
3. å…³é—­è®¾ç½®çª—å£

### 2.3 åˆ›å»ºæµ‹è¯•åœºæ™¯

**æ–‡ä»¶** â†’ **æ–°å»ºåœºæ™¯**

åˆ›å»ºä»¥ä¸‹èŠ‚ç‚¹ç»“æ„ï¼š

```
TestEnvironment (Node3D)
â”œâ”€â”€ EnvironmentController (Node)
â”œâ”€â”€ GroundMaterialLibrary (Node)
â”œâ”€â”€ Ground (StaticBody3D)
â”‚   â””â”€â”€ CollisionShape3D (BoxShape3D: 20x1x20)
â”‚       â””â”€â”€ MeshInstance3D (BoxMesh: 20x1x20)
â”œâ”€â”€ TestRobot (RigidBody3D)
â”‚   â””â”€â”€ CollisionShape3D (CapsuleShape3D)
â”‚       â””â”€â”€ MeshInstance3D (CapsuleMesh)
â”œâ”€â”€ Camera3D
â””â”€â”€ DirectionalLight3D
```

### 2.4 é™„åŠ è„šæœ¬

#### ç»™ EnvironmentController æ·»åŠ è„šæœ¬

```
é€‰ä¸­ EnvironmentController èŠ‚ç‚¹
â†’ é™„åŠ è„šæœ¬
â†’ é€‰æ‹© res://scripts/environment/environment_controller.gd
```

#### ç»™ GroundMaterialLibrary æ·»åŠ è„šæœ¬

```
é€‰ä¸­ GroundMaterialLibrary èŠ‚ç‚¹
â†’ é™„åŠ è„šæœ¬
â†’ é€‰æ‹© res://scripts/environment/ground_material_library.gd
```

#### ç»™æ ¹èŠ‚ç‚¹æ·»åŠ æµ‹è¯•è„šæœ¬

```
é€‰ä¸­ TestEnvironment èŠ‚ç‚¹
â†’ é™„åŠ è„šæœ¬
â†’ é€‰æ‹© res://scripts/test_environment.gd
```

### 2.5 è¿è¡Œåœºæ™¯

1. æŒ‰ **F5** æˆ–ç‚¹å‡»æ’­æ”¾æŒ‰é’®
2. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

**é¢„æœŸè¾“å‡º**:
```
=== ç¯å¢ƒç³»ç»Ÿæµ‹è¯• ===

[1] æµ‹è¯•ç¯å¢ƒé¢„è®¾...
ğŸŒ Loaded environment preset: åœ°çƒ
ğŸŒ‘ Loaded environment preset: æœˆçƒ
ğŸ”´ Loaded environment preset: ç«æ˜Ÿ
  âœ… ç¯å¢ƒé¢„è®¾æµ‹è¯•å®Œæˆ

[2] æµ‹è¯•åœ°é¢æè´¨...
  å¯ç”¨æè´¨: [concrete, wood, carpet, ice, metal, sand, grass, mud]
  - Concrete: æ‘©æ“¦=0.9 å¼¹æ€§=0.1
  - Wood: æ‘©æ“¦=0.6 å¼¹æ€§=0.2
  ...
  âœ… åœ°é¢æè´¨æµ‹è¯•å®Œæˆ

[3] æµ‹è¯•åŠ¨æ€å‚æ•°...
  é‡åŠ›: 9.81 m/sÂ²
  ...
  âœ… åŠ¨æ€å‚æ•°æµ‹è¯•å®Œæˆ
```

### 2.6 äº¤äº’æµ‹è¯•

è¿è¡Œåœºæ™¯åï¼ŒæŒ‰ä»¥ä¸‹é”®æµ‹è¯•ï¼š

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| **1** | åˆ‡æ¢åˆ°åœ°çƒç¯å¢ƒ |
| **2** | åˆ‡æ¢åˆ°æœˆçƒç¯å¢ƒ |
| **3** | åˆ‡æ¢åˆ°ç«æ˜Ÿç¯å¢ƒ |
| **C** | åˆ‡æ¢åˆ°æ··å‡åœŸåœ°é¢ |
| **I** | åˆ‡æ¢åˆ°å†°é¢ |
| **S** | åˆ‡æ¢åˆ°æ²™åœ° |

è§‚å¯Ÿæœºå™¨äººåœ¨ä¸åŒç¯å¢ƒ/æè´¨ä¸‹çš„ç‰©ç†è¡Œä¸ºå˜åŒ–ã€‚

---

## ç¬¬ä¸‰æ­¥: æµ‹è¯• Python APIï¼ˆå¯é€‰ï¼‰ğŸ

### 3.1 å‡†å¤‡å·¥ä½œ

**æ³¨æ„**: æ­¤æ­¥éª¤éœ€è¦ Godot ä»¿çœŸå™¨è¿è¡Œå¹¶ç›‘å¬ TCP ç«¯å£ 9999ã€‚

å½“å‰ç”±äº TCP æœåŠ¡å™¨éœ€è¦åœ¨ Godot åœºæ™¯ä¸­é…ç½®ï¼Œå»ºè®®è·³è¿‡æ­¤æ­¥æˆ–ç¨åé…ç½®ã€‚

### 3.2 å®‰è£…ä¾èµ–

```powershell
cd d:\æ–°å»ºæ–‡ä»¶å¤¹\AGI-Walker\python_api
pip install -r requirements.txt
```

è¿™ä¼šå®‰è£…ï¼š
- gymnasium
- numpy
- stable-baselines3
- torch
- tensorboard

### 3.3 æµ‹è¯• Gym ç¯å¢ƒï¼ˆæ¨¡æ‹Ÿï¼‰

åˆ›å»ºæµ‹è¯•è„šæœ¬ `test_gym_env.py`:

```python
from godot_robot_env import GodotRobotEnv, PartsDatabase

# æµ‹è¯•é›¶ä»¶åº“é›†æˆ
db = PartsDatabase()
print("âœ… Parts database loaded")

robot_config = db.create_robot_config([
    {"part_id": "dynamixel_xl430_w250", "joint": "hip_left"},
    {"part_id": "dynamixel_xl430_w250", "joint": "hip_right"},
])
print("âœ… Robot config created")

# æµ‹è¯•ç¯å¢ƒåˆ›å»º
env = GodotRobotEnv(robot_config=robot_config)
print("âœ… Environment created")

# æµ‹è¯•è§‚å¯Ÿç©ºé—´
print("\nè§‚å¯Ÿç©ºé—´:")
print(env.observation_space)

# æµ‹è¯•åŠ¨ä½œç©ºé—´
print("\nåŠ¨ä½œç©ºé—´:")
print(env.action_space)

print("\nâœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡!")
```

è¿è¡Œ:
```powershell
python test_gym_env.py
```

---

## ğŸ¨ å¯è§†åŒ–åŠŸèƒ½ä¸€è§ˆ

### ç¯å¢ƒé¢„è®¾æ•ˆæœ

| ç¯å¢ƒ | é‡åŠ›å˜åŒ– | è§†è§‰æ•ˆæœ |
|------|----------|----------|
| ğŸŒ åœ°çƒ | 9.81 m/sÂ² | æ­£å¸¸è¡Œèµ° |
| ğŸŒ‘ æœˆçƒ | 1.62 m/sÂ² | ç¼“æ…¢é£˜æµ® |
| ğŸ”´ ç«æ˜Ÿ | 3.71 m/sÂ² | è½»ç›ˆè·³è·ƒ |
| ğŸª æœ¨æ˜Ÿ | 24.79 m/sÂ² | æ²‰é‡å è½ |

### åœ°é¢æè´¨æ•ˆæœ

| æè´¨ | æ‘©æ“¦æ•ˆæœ | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|
| æ··å‡åœŸ | é«˜æ‘©æ“¦ï¼Œç¨³å®š | æ ‡å‡†æµ‹è¯• |
| å†°é¢ | æä½æ‘©æ“¦ï¼Œæ»‘è¡Œ | æç«¯æµ‹è¯• |
| æ²™åœ° | ä¸­æ‘©æ“¦ï¼Œå¯å˜å½¢ | æˆ·å¤–ç¯å¢ƒ |
| åœ°æ¯¯ | æé«˜æ‘©æ“¦ï¼Œé˜»å°¼ | å®¤å†…ç¯å¢ƒ |

---

## ğŸ“Š æ€§èƒ½åŸºå‡†

### Python é›¶ä»¶åº“

```
âœ… åŠ è½½æ—¶é—´: < 0.1 ç§’
âœ… æŸ¥è¯¢æ—¶é—´: < 0.001 ç§’
âœ… å†…å­˜å ç”¨: ~10 MB
```

### Godot ç¯å¢ƒç³»ç»Ÿ

```
âœ… ç¯å¢ƒåˆ‡æ¢: < 0.05 ç§’
âœ… æè´¨åˆ‡æ¢: < 0.02 ç§’
âœ… ç‰©ç†å¸§ç‡: 60 FPS
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: Godot æ— æ³•æ‰¾åˆ°è„šæœ¬

**é—®é¢˜**: "Can't open script res://scripts/environment/..."

**è§£å†³**: ç¡®ä¿æ‰€æœ‰è„šæœ¬æ–‡ä»¶éƒ½åœ¨æ­£ç¡®çš„è·¯å¾„ä¸‹ï¼Œæ£€æŸ¥æ–‡ä»¶åå¤§å°å†™ã€‚

### Q2: Python ç¼ºå°‘ä¾èµ–

**é—®é¢˜**: "ModuleNotFoundError: No module named 'gymnasium'"

**è§£å†³**:
```powershell
pip install gymnasium numpy
```

### Q3: é›¶ä»¶åº“åŠ è½½å¤±è´¥

**é—®é¢˜**: "Parts library not found"

**è§£å†³**: æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼š
```python
db = PartsDatabase("d:/æ–°å»ºæ–‡ä»¶å¤¹/AGI-Walker/parts_library")
```

### Q4: æµ‹è¯•è„šæœ¬æ²¡æœ‰è¾“å‡º

**é—®é¢˜**: è¿è¡Œåœºæ™¯ä½†æ§åˆ¶å°æ²¡æœ‰è¾“å‡º

**è§£å†³**: 
1. ç¡®ä¿è„šæœ¬æ­£ç¡®é™„åŠ åˆ°èŠ‚ç‚¹
2. æ£€æŸ¥ Godot è¾“å‡ºé¢æ¿ï¼ˆè€Œä¸æ˜¯è°ƒè¯•å™¨ï¼‰
3. ç¡®è®¤è„šæœ¬çš„ `_ready()` å‡½æ•°è¢«è°ƒç”¨

---

## âœ… éªŒè¯æ¸…å•

å®Œæˆä»¥ä¸‹é¡¹ç›®ä»¥ç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼š

### Python ç«¯
- [ ] é›¶ä»¶åº“æµ‹è¯•è„šæœ¬è¿è¡ŒæˆåŠŸ
- [ ] èƒ½å¤ŸåŠ è½½æ‰€æœ‰ 3 ä¸ªé›¶ä»¶
- [ ] ç”µæœºæ€§èƒ½å¯¹æ¯”æ­£å¸¸æ˜¾ç¤º
- [ ] æœºå™¨äººé…ç½®åˆ›å»ºæˆåŠŸ

### Godot ç«¯
- [ ] é¡¹ç›®å¯¼å…¥æˆåŠŸ
- [ ] æ’ä»¶å¯ç”¨æˆåŠŸ
- [ ] æµ‹è¯•åœºæ™¯åˆ›å»ºå®Œæˆ
- [ ] ç¯å¢ƒé¢„è®¾åˆ‡æ¢æ­£å¸¸
- [ ] åœ°é¢æè´¨åˆ‡æ¢æ­£å¸¸
- [ ] é”®ç›˜æ§åˆ¶å“åº”æ­£å¸¸

### é›†æˆ
- [ ] é›¶ä»¶è§„æ ¼èƒ½åº”ç”¨åˆ° Godot
- [ ] ç¯å¢ƒå‚æ•°èƒ½ä» Python æ§åˆ¶ï¼ˆå¦‚æœé…ç½®äº†TCPï¼‰

---

## ğŸ“ ä¸‹ä¸€æ­¥å­¦ä¹ 

å®ŒæˆåŸºç¡€æµ‹è¯•åï¼Œæ‚¨å¯ä»¥ï¼š

1. **é˜…è¯»è¯¦ç»†æ–‡æ¡£**
   - [é›¶ä»¶åº“ä½¿ç”¨æŒ‡å—](file:///d:/æ–°å»ºæ–‡ä»¶å¤¹/AGI-Walker/PARTS_LIBRARY_GUIDE.md)
   - [ç‰©ç†ç¯å¢ƒå¢å¼ºæŒ‡å—](file:///d:/æ–°å»ºæ–‡ä»¶å¤¹/AGI-Walker/PHYSICS_ENVIRONMENT_GUIDE.md)
   - [å‚æ•°è½¬æ¢æŒ‡å—](file:///d:/æ–°å»ºæ–‡ä»¶å¤¹/AGI-Walker/PARAMETER_CONVERSION_GUIDE.md)

2. **åˆ›å»ºè‡ªå®šä¹‰æœºå™¨äºº**
   - ä½¿ç”¨é›¶ä»¶åº“ç»„è£…
   - é…ç½®å…³èŠ‚å‚æ•°
   - æ·»åŠ ä¼ æ„Ÿå™¨

3. **è®­ç»ƒå¼ºåŒ–å­¦ä¹ ç­–ç•¥**
   - é…ç½® TCP é€šä¿¡
   - è¿è¡Œ PPO è®­ç»ƒè„šæœ¬
   - åŸŸéšæœºåŒ–å®éªŒ

4. **æ·»åŠ æ–°é›¶ä»¶**
   - æŸ¥æ‰¾çœŸå®é›¶ä»¶è§„æ ¼
   - åˆ›å»º JSON æ•°æ®æ–‡ä»¶
   - éªŒè¯å¹¶æµ‹è¯•

---

## ğŸ“ è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹[é¡¹ç›®æ€»ç»“](file:///C:/Users/è£è€€/.gemini/antigravity/brain/13b03e40-12d0-4ed9-92ae-1182ae98df13/walkthrough.md)
2. æ£€æŸ¥[ä»»åŠ¡æ¸…å•](file:///C:/Users/è£è€€/.gemini/antigravity/brain/13b03e40-12d0-4ed9-92ae-1182ae98df13/task.md)
3. æŸ¥çœ‹å„ä¸ªåŠŸèƒ½çš„è¯¦ç»†æ–‡æ¡£

---

**ç¥æ‚¨æµ‹è¯•æ„‰å¿«ï¼** ğŸ‰

---

**ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2026-01-14
