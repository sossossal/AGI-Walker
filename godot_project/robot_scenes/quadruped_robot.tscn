[gd_scene load_steps=5 format=3]

[ext_resource type="Script" path="res://robot_scenes/quadruped_robot.gd" id="1"]

[sub_resource type="BoxMesh" id="BoxMesh_body"]
size = Vector3(0.4, 0.15, 0.2)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_leg"]
radius = 0.02
height = 0.15

[sub_resource type="BoxShape3D" id="BoxShape3D_body"]
size = Vector3(0.4, 0.15, 0.2)

[node name="QuadrupedRobot" type="RigidBody3D"]
mass = 12.0
script = ExtResource("1")

[node name="Body" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_body")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_body")

[node name="IMU" type="Node3D" parent="."]

# Front Left Leg
[node name="FL_Hip" type="HingeJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.15, -0.05, 0.1)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -0.785398
angular_limit/upper = 0.785398
motor/enable = true
motor/max_impulse = 5.0

[node name="FL_Thigh" type="RigidBody3D" parent="FL_Hip"]
mass = 0.5

[node name="ThighMesh" type="MeshInstance3D" parent="FL_Hip/FL_Thigh"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

[node name="FL_Thigh_Joint" type="HingeJoint3D" parent="FL_Hip/FL_Thigh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.15, 0)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -2.0944
angular_limit/upper = 1.0472
motor/enable = true
motor/max_impulse = 5.0

[node name="FL_Shin" type="RigidBody3D" parent="FL_Hip/FL_Thigh/FL_Thigh_Joint"]
mass = 0.3

[node name="ShinMesh" type="MeshInstance3D" parent="FL_Hip/FL_Thigh/FL_Thigh_Joint/FL_Shin"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

# Front Right Leg (mirror of FL)
[node name="FR_Hip" type="HingeJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.15, -0.05, -0.1)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -0.785398
angular_limit/upper = 0.785398
motor/enable = true
motor/max_impulse = 5.0

[node name="FR_Thigh" type="RigidBody3D" parent="FR_Hip"]
mass = 0.5

[node name="ThighMesh" type="MeshInstance3D" parent="FR_Hip/FR_Thigh"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

[node name="FR_Thigh_Joint" type="HingeJoint3D" parent="FR_Hip/FR_Thigh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.15, 0)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -2.0944
angular_limit/upper = 1.0472
motor/enable = true
motor/max_impulse = 5.0

[node name="FR_Shin" type="RigidBody3D" parent="FR_Hip/FR_Thigh/FR_Thigh_Joint"]
mass = 0.3

[node name="ShinMesh" type="MeshInstance3D" parent="FR_Hip/FR_Thigh/FR_Thigh_Joint/FR_Shin"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

# Rear Left Leg
[node name="RL_Hip" type="HingeJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.15, -0.05, 0.1)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -0.785398
angular_limit/upper = 0.785398
motor/enable = true
motor/max_impulse = 5.0

[node name="RL_Thigh" type="RigidBody3D" parent="RL_Hip"]
mass = 0.5

[node name="ThighMesh" type="MeshInstance3D" parent="RL_Hip/RL_Thigh"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

[node name="RL_Thigh_Joint" type="HingeJoint3D" parent="RL_Hip/RL_Thigh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.15, 0)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -2.0944
angular_limit/upper = 1.0472
motor/enable = true
motor/max_impulse = 5.0

[node name="RL_Shin" type="RigidBody3D" parent="RL_Hip/RL_Thigh/RL_Thigh_Joint"]
mass = 0.3

[node name="ShinMesh" type="MeshInstance3D" parent="RL_Hip/RL_Thigh/RL_Thigh_Joint/RL_Shin"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

# Rear Right Leg
[node name="RR_Hip" type="HingeJoint3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.15, -0.05, -0.1)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -0.785398
angular_limit/upper = 0.785398
motor/enable = true
motor/max_impulse = 5.0

[node name="RR_Thigh" type="RigidBody3D" parent="RR_Hip"]
mass = 0.5

[node name="ThighMesh" type="MeshInstance3D" parent="RR_Hip/RR_Thigh"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)

[node name="RR_Thigh_Joint" type="HingeJoint3D" parent="RR_Hip/RR_Thigh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.15, 0)
node_a = NodePath("..")
angular_limit/enable = true
angular_limit/lower = -2.0944
angular_limit/upper = 1.0472
motor/enable = true
motor/max_impulse = 5.0

[node name="RR_Shin" type="RigidBody3D" parent="RR_Hip/RR_Thigh/RR_Thigh_Joint"]
mass = 0.3

[node name="ShinMesh" type="MeshInstance3D" parent="RR_Hip/RR_Thigh/RR_Thigh_Joint/RR_Shin"]
mesh = SubResource("CapsuleMesh_leg")
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, -0.075, 0)
